<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="nuclo Examples - Real-world code examples and patterns with live demos">
    <title>Examples - nuclo</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1>
                    <span class="logo-icon">
                        <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20 4L4 12v16l16 8 16-8V12L20 4z" stroke="#a3e635" stroke-width="2" fill="none"/>
                            <path d="M20 4v16m0 0L4 12m16 8l16-8m-16 8v16" stroke="#a3e635" stroke-width="2"/>
                            <path d="M12 16l8 4 8-4" stroke="#a3e635" stroke-width="2"/>
                        </svg>
                    </span>
                    <a href="index.html" style="color: inherit; text-decoration: none;">Nuclo</a>
                </h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="api.html">API</a></li>
                <li><a href="styling.html">Styling</a></li>
                <li><a href="examples.html" class="active">Examples</a></li>
                <li><a href="https://github.com/dan2dev/nuclo" target="_blank">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <main class="docs-content">
        <div class="container">
            <aside class="sidebar">
                <nav class="docs-nav">
                    <h3>Examples</h3>
                    <ul>
                        <li><a href="#counter">Counter</a></li>
                        <li><a href="#todo">Todo List</a></li>
                        <li><a href="#subtasks">Nested Subtasks</a></li>
                        <li><a href="#search">Search Filter</a></li>
                        <li><a href="#async">Async Loading</a></li>
                        <li><a href="#forms">Form Handling</a></li>
                        <li><a href="#nested">Nested Components</a></li>
                        <li><a href="#animations">Animations</a></li>
                        <li><a href="#routing">Simple Routing</a></li>
                        <li><a href="#styled-card">Styled Card</a></li>
                    </ul>
                </nav>
            </aside>

            <article class="docs-main">
                <h1>Examples</h1>
                <p>Real-world examples demonstrating nuclo patterns and best practices. Each example includes a live interactive demo built with nuclo.</p>

                <section id="counter" class="example-section">
                    <h2>Counter</h2>
                    <p>The classic counter example showing basic state management and event handling.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-counter"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

let counter = 0;

function increment() {
  counter++;
  update();
}

function decrement() {
  counter--;
  update();
}

function reset() {
  counter = 0;
  update();
}

const app = div(
  { className: 'counter-app' },

  h1('Counter: ', span(() => counter)),

  div(
    { className: 'button-group' },
    button('-', on('click', decrement)),
    button('Reset', on('click', reset)),
    button('+', on('click', increment))
  ),

  // Show even/odd
  p(() => `The counter is ${counter % 2 === 0 ? 'even' : 'odd'}`)
);

render(app, document.body);</code></pre>
                </section>

                <section id="todo" class="example-section">
                    <h2>Todo List</h2>
                    <p>A complete todo application with add, toggle, delete, and filter functionality.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-todo"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

type Todo = { id: number; text: string; done: boolean };
type Filter = 'all' | 'active' | 'completed';

let todos: Todo[] = [];
let nextId = 1;
let inputValue = '';
let filter: Filter = 'all';

function addTodo() {
  if (!inputValue.trim()) return;
  todos.push({ id: nextId++, text: inputValue, done: false });
  inputValue = '';
  update();
}

function toggleTodo(todo: Todo) {
  todo.done = !todo.done;
  update();
}

function deleteTodo(id: number) {
  todos = todos.filter(t => t.id !== id);
  update();
}

function clearCompleted() {
  todos = todos.filter(t => !t.done);
  update();
}

function filteredTodos() {
  switch (filter) {
    case 'active': return todos.filter(t => !t.done);
    case 'completed': return todos.filter(t => t.done);
    default: return todos;
  }
}

function activeCount() {
  return todos.filter(t => !t.done).length;
}

const app = div(
  { className: 'todo-app' },

  h1('todos'),

  // Input section
  div(
    { className: 'input-section' },
    input(
      {
        type: 'text',
        placeholder: 'What needs to be done?',
        value: () => inputValue
      },
      on('input', e => {
        inputValue = e.target.value;
        update();
      }),
      on('keydown', e => {
        if (e.key === 'Enter') addTodo();
      })
    ),
    button('Add', on('click', addTodo))
  ),

  // Todo list
  when(() => todos.length > 0,
    div(
      // List
      list(() => filteredTodos(), (todo) =>
        div(
          { className: () => `todo-item ${todo.done ? 'done' : ''}` },

          input(
            {
              type: 'checkbox',
              checked: () => todo.done
            },
            on('change', () => toggleTodo(todo))
          ),

          span(
            { className: 'todo-text' },
            () => todo.text
          ),

          button(
            { className: 'delete-btn' },
            '×',
            on('click', () => deleteTodo(todo.id))
          )
        )
      ),

      // Footer
      div(
        { className: 'todo-footer' },

        span(() => `${activeCount()} item${activeCount() !== 1 ? 's' : ''} left`),

        div(
          { className: 'filters' },
          button(
            { className: () => filter === 'all' ? 'active' : '' },
            'All',
            on('click', () => { filter = 'all'; update(); })
          ),
          button(
            { className: () => filter === 'active' ? 'active' : '' },
            'Active',
            on('click', () => { filter = 'active'; update(); })
          ),
          button(
            { className: () => filter === 'completed' ? 'active' : '' },
            'Completed',
            on('click', () => { filter = 'completed'; update(); })
          )
        ),

        when(() => todos.some(t => t.done),
          button('Clear completed', on('click', clearCompleted))
        )
      )
    )
  ).else(
    p({ className: 'empty-state' }, 'No todos yet! Add one above.')
  )
);

render(app, document.body);</code></pre>
                </section>

                <section id="subtasks" class="example-section">
                    <h2>Nested Subtasks</h2>
                    <p>A todo list with recursive subtasks, demonstrating nested <code>list()</code> and <code>when()</code> composition.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-subtasks"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

type Task = {
  id: number;
  text: string;
  done: boolean;
  subtasks: Task[];
  expanded: boolean;
};

let tasks: Task[] = [];
let nextId = 1;

function createTask(text: string): Task {
  return {
    id: nextId++,
    text,
    done: false,
    subtasks: [],
    expanded: true
  };
}

function addTask(text: string, parent?: Task) {
  const task = createTask(text);
  if (parent) {
    parent.subtasks.push(task);
  } else {
    tasks.push(task);
  }
  update();
}

function toggleTask(task: Task) {
  task.done = !task.done;
  // Optionally cascade to subtasks
  function setDone(t: Task, done: boolean) {
    t.done = done;
    t.subtasks.forEach(st => setDone(st, done));
  }
  setDone(task, task.done);
  update();
}

function toggleExpand(task: Task) {
  task.expanded = !task.expanded;
  update();
}

function deleteTask(task: Task, parent?: Task) {
  if (parent) {
    parent.subtasks = parent.subtasks.filter(t => t.id !== task.id);
  } else {
    tasks = tasks.filter(t => t.id !== task.id);
  }
  update();
}

// Recursive task renderer
function TaskItem(task: Task, parent?: Task, depth = 0): Element {
  let newSubtaskText = '';

  return div(
    { className: 'task-item' },
    { style: { marginLeft: `${depth * 20}px` } },

    // Task header
    div(
      { className: 'task-header' },

      // Expand/collapse button (if has subtasks)
      when(() => task.subtasks.length > 0,
        button(
          { className: 'expand-btn' },
          () => task.expanded ? '▼' : '▶',
          on('click', () => toggleExpand(task))
        )
      ).else(
        span({ style: { width: '24px', display: 'inline-block' } })
      ),

      // Checkbox
      input(
        {
          type: 'checkbox',
          checked: () => task.done
        },
        on('change', () => toggleTask(task))
      ),

      // Task text
      span(
        {
          className: () => task.done ? 'done' : '',
          style: {
            textDecoration: () => task.done ? 'line-through' : 'none',
            opacity: () => task.done ? '0.6' : '1'
          }
        },
        () => task.text
      ),

      // Subtask count badge
      when(() => task.subtasks.length > 0,
        span(
          { className: 'subtask-count' },
          () => `(${task.subtasks.filter(t => t.done).length}/${task.subtasks.length})`
        )
      ),

      // Delete button
      button(
        { className: 'delete-btn' },
        '×',
        on('click', () => deleteTask(task, parent))
      )
    ),

    // Subtasks (when expanded)
    when(() => task.expanded && task.subtasks.length > 0,
      div(
        { className: 'subtasks' },
        list(() => task.subtasks, subtask =>
          TaskItem(subtask, task, depth + 1)
        )
      )
    ),

    // Add subtask form (when expanded)
    when(() => task.expanded,
      div(
        { className: 'add-subtask' },
        { style: { marginLeft: `${(depth + 1) * 20}px` } },
        input(
          {
            type: 'text',
            placeholder: 'Add subtask...',
            value: () => newSubtaskText
          },
          on('input', e => {
            newSubtaskText = e.target.value;
            update();
          }),
          on('keydown', e => {
            if (e.key === 'Enter' && newSubtaskText.trim()) {
              addTask(newSubtaskText.trim(), task);
              newSubtaskText = '';
              update();
            }
          })
        )
      )
    )
  );
}

// Main app
let mainInputText = '';

const app = div(
  { className: 'task-app' },

  h1('Tasks with Subtasks'),

  // Add main task
  div(
    { className: 'add-task' },
    input(
      {
        type: 'text',
        placeholder: 'Add a task...',
        value: () => mainInputText
      },
      on('input', e => {
        mainInputText = e.target.value;
        update();
      }),
      on('keydown', e => {
        if (e.key === 'Enter' && mainInputText.trim()) {
          addTask(mainInputText.trim());
          mainInputText = '';
          update();
        }
      })
    ),
    button('Add', on('click', () => {
      if (mainInputText.trim()) {
        addTask(mainInputText.trim());
        mainInputText = '';
        update();
      }
    }))
  ),

  // Task list
  when(() => tasks.length > 0,
    div(
      { className: 'task-list' },
      list(() => tasks, task => TaskItem(task))
    )
  ).else(
    p({ className: 'empty' }, 'No tasks yet. Add one above!')
  )
);

render(app, document.body);</code></pre>
                </section>

                <section id="search" class="example-section">
                    <h2>Search Filter</h2>
                    <p>Real-time search filtering with debouncing.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-search"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

type User = {
  id: number;
  name: string;
  email: string;
  role: string;
};

const users: User[] = [
  { id: 1, name: 'Alice Johnson', email: 'alice@example.com', role: 'Admin' },
  { id: 2, name: 'Bob Smith', email: 'bob@example.com', role: 'User' },
  { id: 3, name: 'Charlie Brown', email: 'charlie@example.com', role: 'User' },
  { id: 4, name: 'Diana Prince', email: 'diana@example.com', role: 'Admin' },
  { id: 5, name: 'Eve Anderson', email: 'eve@example.com', role: 'User' }
];

let searchQuery = '';
let selectedRole = 'all';

function filteredUsers() {
  const query = searchQuery.toLowerCase();
  return users.filter(user => {
    const matchesSearch =
      user.name.toLowerCase().includes(query) ||
      user.email.toLowerCase().includes(query);
    const matchesRole =
      selectedRole === 'all' || user.role === selectedRole;
    return matchesSearch && matchesRole;
  });
}

const app = div(
  { className: 'user-directory' },

  h1('User Directory'),

  // Search and filters
  div(
    { className: 'search-section' },

    input(
      {
        type: 'search',
        placeholder: 'Search by name or email...',
        value: () => searchQuery
      },
      on('input', e => {
        searchQuery = e.target.value;
        update();
      })
    ),

    select(
      { value: () => selectedRole },
      on('change', e => {
        selectedRole = e.target.value;
        update();
      }),
      option({ value: 'all' }, 'All Roles'),
      option({ value: 'Admin' }, 'Admins'),
      option({ value: 'User' }, 'Users')
    )
  ),

  // Results count
  p(() => {
    const count = filteredUsers().length;
    return `Showing ${count} user${count !== 1 ? 's' : ''}`;
  }),

  // User list
  when(() => filteredUsers().length > 0,
    div(
      { className: 'user-list' },
      list(() => filteredUsers(), user =>
        div(
          { className: 'user-card' },
          h3(user.name),
          p(user.email),
          span(
            { className: `role-badge ${user.role.toLowerCase()}` },
            user.role
          )
        )
      )
    )
  ).else(
    div(
      { className: 'empty-state' },
      p(() => searchQuery
        ? `No users found matching "${searchQuery}"`
        : 'No users found'
      )
    )
  )
);

render(app, document.body);</code></pre>
                </section>

                <section id="async" class="example-section">
                    <h2>Async Loading</h2>
                    <p>Handling asynchronous operations with loading states and error handling.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-async"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

type Product = { id: number; title: string; category: string; price: number };
type State = {
  status: 'idle' | 'loading' | 'success' | 'error';
  products: Product[];
  error?: string;
};

let state: State = { status: 'idle', products: [] };
let searchQuery = 'phone';

async function fetchProducts() {
  if (!searchQuery.trim()) return;

  state.status = 'loading';
  state.error = undefined;
  update();

  try {
    const response = await fetch(
      `https://dummyjson.com/products/search?q=${searchQuery}`
    );

    if (!response.ok) {
      throw new Error('Failed to fetch products');
    }

    const data = await response.json();
    state.products = data.products;
    state.status = 'success';
  } catch (err) {
    state.status = 'error';
    state.error = err.message;
  }

  update();
}

const app = div(
  { className: 'product-search' },

  h1('Product Search'),

  // Search input
  div(
    { className: 'search-bar' },
    input(
      {
        type: 'search',
        placeholder: 'Search products...',
        value: () => searchQuery,
        disabled: () => state.status === 'loading'
      },
      on('input', e => {
        searchQuery = e.target.value;
        update();
      }),
      on('keydown', e => {
        if (e.key === 'Enter') fetchProducts();
      })
    ),
    button(
      {
        disabled: () => state.status === 'loading' || !searchQuery.trim()
      },
      () => state.status === 'loading' ? 'Searching...' : 'Search',
      on('click', fetchProducts)
    )
  ),

  // Status display
  when(() => state.status === 'loading',
    div({ className: 'loading' }, 'Loading products...')
  ).when(() => state.status === 'error',
    div(
      { className: 'error' },
      'Error: ',
      () => state.error,
      button('Retry', on('click', fetchProducts))
    )
  ).when(() => state.status === 'success' && state.products.length > 0,
    div(
      p(() => `Found ${state.products.length} products`),
      div(
        { className: 'product-grid' },
        list(() => state.products, product =>
          div(
            { className: 'product-card' },
            h3(product.title),
            p({ className: 'category' }, product.category),
            p({ className: 'price' }, () => `$${product.price.toFixed(2)}`)
          )
        )
      )
    )
  ).when(() => state.status === 'success' && state.products.length === 0,
    div({ className: 'empty' }, () => `No products found for "${searchQuery}"`)
  ).else(
    div({ className: 'empty' }, 'Enter a search term and click Search')
  )
);

render(app, document.body);</code></pre>
                </section>

                <section id="forms" class="example-section">
                    <h2>Form Handling</h2>
                    <p>Complete form with validation and submission.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-forms"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

type FormData = {
  username: string;
  email: string;
  password: string;
  confirmPassword: string;
};

type Errors = Partial&lt;Record&lt;keyof FormData, string&gt;&gt;;

let formData: FormData = {
  username: '',
  email: '',
  password: '',
  confirmPassword: ''
};

let errors: Errors = {};
let isSubmitting = false;
let submitStatus: 'idle' | 'success' | 'error' = 'idle';

function validateForm(): boolean {
  errors = {};

  if (formData.username.length < 3) {
    errors.username = 'Username must be at least 3 characters';
  }

  if (!formData.email.includes('@')) {
    errors.email = 'Please enter a valid email';
  }

  if (formData.password.length < 6) {
    errors.password = 'Password must be at least 6 characters';
  }

  if (formData.password !== formData.confirmPassword) {
    errors.confirmPassword = 'Passwords do not match';
  }

  return Object.keys(errors).length === 0;
}

async function handleSubmit(e: Event) {
  e.preventDefault();

  if (!validateForm()) {
    update();
    return;
  }

  isSubmitting = true;
  submitStatus = 'idle';
  update();

  try {
    // Simulate API call
    await new Promise(resolve => setTimeout(resolve, 1000));

    // Success
    submitStatus = 'success';
    formData = { username: '', email: '', password: '', confirmPassword: '' };
  } catch (err) {
    submitStatus = 'error';
  }

  isSubmitting = false;
  update();
}

const app = div(
  { className: 'form-container' },

  h1('Sign Up'),

  when(() => submitStatus === 'success',
    div({ className: 'success-message' }, 'Account created successfully!')
  ),

  form(
    on('submit', handleSubmit),

    // Username field
    div(
      { className: 'form-field' },
      label('Username'),
      input(
        {
          type: 'text',
          value: () => formData.username,
          disabled: () => isSubmitting
        },
        on('input', e => {
          formData.username = e.target.value;
          delete errors.username;
          update();
        })
      ),
      when(() => !!errors.username,
        span({ className: 'error' }, () => errors.username)
      )
    ),

    // Email field
    div(
      { className: 'form-field' },
      label('Email'),
      input(
        {
          type: 'email',
          value: () => formData.email,
          disabled: () => isSubmitting
        },
        on('input', e => {
          formData.email = e.target.value;
          delete errors.email;
          update();
        })
      ),
      when(() => !!errors.email,
        span({ className: 'error' }, () => errors.email)
      )
    ),

    // Password field
    div(
      { className: 'form-field' },
      label('Password'),
      input(
        {
          type: 'password',
          value: () => formData.password,
          disabled: () => isSubmitting
        },
        on('input', e => {
          formData.password = e.target.value;
          delete errors.password;
          update();
        })
      ),
      when(() => !!errors.password,
        span({ className: 'error' }, () => errors.password)
      )
    ),

    // Confirm password field
    div(
      { className: 'form-field' },
      label('Confirm Password'),
      input(
        {
          type: 'password',
          value: () => formData.confirmPassword,
          disabled: () => isSubmitting
        },
        on('input', e => {
          formData.confirmPassword = e.target.value;
          delete errors.confirmPassword;
          update();
        })
      ),
      when(() => !!errors.confirmPassword,
        span({ className: 'error' }, () => errors.confirmPassword)
      )
    ),

    // Submit button
    button(
      {
        type: 'submit',
        disabled: () => isSubmitting
      },
      () => isSubmitting ? 'Creating account...' : 'Sign Up'
    )
  )
);

render(app, document.body);</code></pre>
                </section>

                <section id="nested" class="example-section">
                    <h2>Nested Components</h2>
                    <p>Creating reusable component-like functions.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-nested"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

type User = {
  id: number;
  name: string;
  avatar: string;
  bio: string;
  followers: number;
};

// Component functions
function UserCard(user: User, onFollow: (id: number) => void) {
  return div(
    { className: 'user-card' },
    img({ src: user.avatar, alt: user.name, className: 'avatar' }),
    h3(user.name),
    p({ className: 'bio' }, user.bio),
    p({ className: 'followers' }, () => `${user.followers} followers`),
    button('Follow', on('click', () => onFollow(user.id)))
  );
}

function UserGrid(users: User[], onFollow: (id: number) => void) {
  return div(
    { className: 'user-grid' },
    list(() => users, user => UserCard(user, onFollow))
  );
}

// App state
let users: User[] = [
  {
    id: 1,
    name: 'Alice',
    avatar: '/avatars/alice.jpg',
    bio: 'Software developer',
    followers: 142
  },
  {
    id: 2,
    name: 'Bob',
    avatar: '/avatars/bob.jpg',
    bio: 'Designer',
    followers: 89
  }
];

function handleFollow(id: number) {
  const user = users.find(u => u.id === id);
  if (user) {
    user.followers++;
    update();
  }
}

const app = div(
  { className: 'app' },
  h1('User Directory'),
  UserGrid(users, handleFollow)
);

render(app, document.body);</code></pre>
                </section>

                <section id="animations" class="example-section">
                    <h2>Animations</h2>
                    <p>Smooth transitions with CSS and reactive styles.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-animations"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

let isVisible = true;
let opacity = 1;
let scale = 1;

function toggle() {
  isVisible = !isVisible;
  update();
}

function animate() {
  let start = Date.now();

  function tick() {
    const elapsed = Date.now() - start;
    const progress = Math.min(elapsed / 1000, 1); // 1 second animation

    opacity = isVisible ? progress : 1 - progress;
    scale = isVisible ? 0.5 + progress * 0.5 : 1 - progress * 0.5;

    update();

    if (progress < 1) {
      requestAnimationFrame(tick);
    }
  }

  tick();
}

const app = div(
  button('Toggle', on('click', () => {
    toggle();
    animate();
  })),

  div(
    {
      className: 'animated-box',
      style: {
        opacity: () => opacity,
        transform: () => `scale(${scale})`,
        transition: 'opacity 0.3s, transform 0.3s'
      }
    },
    'Animated Content'
  )
);

render(app, document.body);</code></pre>
                </section>

                <section id="routing" class="example-section">
                    <h2>Simple Routing</h2>
                    <p>Client-side routing without a framework.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-routing"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

type Route = 'home' | 'about' | 'contact' | 'notfound';

let currentRoute: Route = 'home';
let params: Record&lt;string, string&gt; = {};

function navigate(route: Route) {
  currentRoute = route;
  window.history.pushState({}, '', `/${route}`);
  update();
}

// Simple router
window.addEventListener('popstate', () => {
  const path = window.location.pathname.slice(1) || 'home';
  currentRoute = path as Route;
  update();
});

// Page components
function HomePage() {
  return div(
    h1('Home Page'),
    p('Welcome to our website!'),
    button('Go to About', on('click', () => navigate('about')))
  );
}

function AboutPage() {
  return div(
    h1('About Page'),
    p('Learn more about us.'),
    button('Go to Contact', on('click', () => navigate('contact')))
  );
}

function ContactPage() {
  return div(
    h1('Contact Page'),
    p('Get in touch!'),
    button('Go Home', on('click', () => navigate('home')))
  );
}

function NotFoundPage() {
  return div(
    h1('404 - Not Found'),
    p('Page not found'),
    button('Go Home', on('click', () => navigate('home')))
  );
}

const app = div(
  { className: 'app' },

  nav(
    button('Home', on('click', () => navigate('home'))),
    button('About', on('click', () => navigate('about'))),
    button('Contact', on('click', () => navigate('contact')))
  ),

  main(
    when(() => currentRoute === 'home', HomePage())
    .when(() => currentRoute === 'about', AboutPage())
    .when(() => currentRoute === 'contact', ContactPage())
    .else(NotFoundPage())
  )
);

render(app, document.body);</code></pre>
                </section>

                <section id="styled-card" class="example-section">
                    <h2>Styled Card</h2>
                    <p>Using nuclo's CSS-in-JS styling system to create a polished product card component with hover effects.</p>

                    <!-- Live Demo -->
                    <div class="live-demo">
                        <div class="live-demo-header">
                            <div class="demo-dots">
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                                <span class="demo-dot"></span>
                            </div>
                            <span>Live Demo</span>
                        </div>
                        <div class="live-demo-content" id="demo-styled-card"></div>
                    </div>

                    <pre><code class="language-typescript">import 'nuclo';

// Setup style queries
const cn = createStyleQueries({
  medium: '@media (min-width: 768px)',
  large: '@media (min-width: 1024px)'
});

// Define reusable styles
const styles = {
  page: cn(
    bg('#f5f5f5')
      .minHeight('100vh')
      .padding('1rem'),
    { medium: padding('2rem') }
  ),

  header: cn(
    textAlign('center')
      .marginBottom('2rem')
  ),

  title: cn(
    margin('0 0 0.5rem 0')
      .fontSize('2rem')
      .color('#1a1a2e'),
    { large: fontSize('2.5rem') }
  ),

  subtitle: cn(
    margin('0')
      .color('#666')
  ),

  grid: cn(
    grid()
      .gridTemplateColumns('1fr')
      .gap('1.5rem')
      .maxWidth('1200px')
      .margin('0 auto'),
    {
      medium: gridTemplateColumns('repeat(2, 1fr)'),
      large: gridTemplateColumns('repeat(3, 1fr)').gap('2rem')
    }
  ),

  card: cn(
    bg('white')
      .borderRadius('12px')
      .overflow('hidden')
      .transition('all 0.3s ease')
      .cursor('pointer')
  ),

  cardImage: cn(
    position('relative')
      .overflow('hidden')
      .height('200px')
  ),

  image: cn(
    width('100%')
      .height('100%')
      .objectFit('cover')
      .transition('transform 0.3s ease')
  ),

  overlay: cn(
    position('absolute')
      .top('0')
      .left('0')
      .right('0')
      .bottom('0')
      .bg('rgba(0,0,0,0.5)')
      .flex()
      .alignItems('center')
      .justifyContent('center')
  ),

  overlayText: cn(
    color('white')
      .fontSize('1.25rem')
      .fontWeight('bold')
  ),

  content: cn(
    padding('1.5rem')
  ),

  cardTitle: cn(
    margin('0 0 0.5rem 0')
      .fontSize('1.25rem')
      .fontWeight('600')
      .color('#1a1a2e')
  ),

  cardDesc: cn(
    margin('0 0 1rem 0')
      .fontSize('0.9rem')
      .color('#666')
      .lineHeight('1.5')
  ),

  footer: cn(
    flex()
      .justifyContent('space-between')
      .alignItems('center')
  ),

  price: cn(
    fontSize('1.5rem')
      .fontWeight('bold')
      .color('#3b82f6')
  ),

  button: cn(
    color('white')
      .padding('0.75rem 1.5rem')
      .borderRadius('8px')
      .border('none')
      .fontSize('0.9rem')
      .fontWeight('600')
      .transition('background-color 0.2s')
  )
};

type Product = {
  id: number;
  name: string;
  description: string;
  price: number;
  image: string;
  inStock: boolean;
};

let products: Product[] = [
  {
    id: 1,
    name: 'Wireless Headphones',
    description: 'Premium noise-canceling headphones with 30-hour battery.',
    price: 299.99,
    image: '/images/headphones.jpg',
    inStock: true
  },
  {
    id: 2,
    name: 'Smart Watch',
    description: 'Track your fitness, receive notifications, and more.',
    price: 399.99,
    image: '/images/watch.jpg',
    inStock: true
  },
  {
    id: 3,
    name: 'Portable Speaker',
    description: 'Waterproof speaker with incredible bass and clarity.',
    price: 149.99,
    image: '/images/speaker.jpg',
    inStock: false
  }
];

function ProductCard(product: Product) {
  let isHovered = false;

  return div(
    styles.card,
    {
      // Reactive style: a function that returns the style object
      style: () => ({
        boxShadow: isHovered
          ? '0 10px 40px rgba(0,0,0,0.15)'
          : '0 2px 8px rgba(0,0,0,0.1)',
        transform: isHovered ? 'translateY(-4px)' : 'translateY(0)'
      })
    },
    on('mouseenter', () => { isHovered = true; update(); }),
    on('mouseleave', () => { isHovered = false; update(); }),

    // Image container
    div(styles.cardImage,
      img({
        src: product.image,
        alt: product.name,
        style: () => ({
          transform: isHovered ? 'scale(1.05)' : 'scale(1)'
        })
      }, styles.image),

      // Out of stock overlay
      when(() => !product.inStock,
        div(styles.overlay,
          span(styles.overlayText, 'Out of Stock')
        )
      )
    ),

    // Content
    div(styles.content,
      h3(styles.cardTitle, product.name),
      p(styles.cardDesc, product.description),

      div(styles.footer,
        span(styles.price, () => `$${product.price.toFixed(2)}`),

        button(
          styles.button,
          {
            style: () => ({
              backgroundColor: product.inStock ? '#3b82f6' : '#ccc',
              cursor: product.inStock ? 'pointer' : 'not-allowed'
            })
          },
          on('click', () => {
            if (product.inStock) {
              console.log(`Added ${product.name} to cart`);
            }
          }),
          product.inStock ? 'Add to Cart' : 'Unavailable'
        )
      )
    )
  );
}

const app = div(
  styles.page,

  div(styles.header,
    h1(styles.title, 'Featured Products'),
    p(styles.subtitle, 'Discover our latest collection')
  ),

  div(styles.grid,
    list(() => products, product => ProductCard(product))
  )
);

render(app, document.body);</code></pre>
                </section>

                <section class="resources">
                    <h2>More Examples</h2>
                    <p>Find more examples in the <a href="https://github.com/dan2dev/nuclo/tree/main/examples" target="_blank">GitHub repository</a>.</p>
                </section>
            </article>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Created by <strong>Danilo Celestino de Castro</strong> (<a href="https://github.com/dan2dev" target="_blank">@dan2dev</a>)</p>
            <p>MIT License - Free and Open Source</p>
            <p>
                <a href="https://github.com/dan2dev/nuclo">GitHub</a> &bull;
                <a href="https://github.com/dan2dev/nuclo/issues">Issues</a> &bull;
                <a href="https://www.npmjs.com/package/nuclo">NPM</a>
            </p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- Include nuclo UMD for live demos -->
    <script src="https://unpkg.com/nuclo@latest/dist/nuclo.umd.js"></script>
    <script>
    // Live Counter Demo
    (function() {
      let counter = 0;

      const counterDemo = div(
        { className: 'demo-counter' },
        h2(() => counter),
        div(
          { className: 'button-group' },
          button({ className: 'btn-dec' }, '-', on('click', () => { counter--; update(); })),
          button({ className: 'btn-reset' }, 'Reset', on('click', () => { counter = 0; update(); })),
          button({ className: 'btn-inc' }, '+', on('click', () => { counter++; update(); }))
        ),
        p({ className: 'counter-info' }, () => `The counter is ${counter % 2 === 0 ? 'even' : 'odd'}`)
      );

      render(counterDemo, document.getElementById('demo-counter'));
    })();

    // Live Todo Demo
    (function() {
      let todos = [];
      let nextId = 1;
      let inputValue = '';

      function addTodo() {
        if (!inputValue.trim()) return;
        todos.push({ id: nextId++, text: inputValue, done: false });
        inputValue = '';
        update();
      }

      function toggleTodo(todo) {
        todo.done = !todo.done;
        update();
      }

      function deleteTodo(id) {
        todos = todos.filter(t => t.id !== id);
        update();
      }

      function activeCount() {
        return todos.filter(t => !t.done).length;
      }

      const todoDemo = div(
        { className: 'demo-todo' },
        div(
          { className: 'input-row' },
          input(
            {
              type: 'text',
              placeholder: 'What needs to be done?',
              value: () => inputValue
            },
            on('input', e => { inputValue = e.target.value; update(); }),
            on('keydown', e => { if (e.key === 'Enter') addTodo(); })
          ),
          button({ className: 'add-btn' }, 'Add', on('click', addTodo))
        ),
        when(() => todos.length > 0,
          div(
            { className: 'todo-list' },
            list(() => todos, todo =>
              div(
                { className: () => `todo-item ${todo.done ? 'done' : ''}` },
                input(
                  { type: 'checkbox', checked: () => todo.done },
                  on('change', () => toggleTodo(todo))
                ),
                span({ className: 'todo-text' }, () => todo.text),
                button(
                  { className: 'delete-btn' },
                  '\u00D7',
                  on('click', () => deleteTodo(todo.id))
                )
              )
            ),
            div(
              { className: 'todo-stats' },
              span(() => `${activeCount()} item${activeCount() !== 1 ? 's' : ''} left`),
              button(
                { style: { background: 'transparent', border: 'none', color: 'var(--text-muted)', cursor: 'pointer' } },
                'Clear completed',
                on('click', () => { todos = todos.filter(t => !t.done); update(); })
              )
            )
          )
        ).else(
          p({ className: 'empty-state' }, 'No todos yet! Add one above.')
        )
      );

      render(todoDemo, document.getElementById('demo-todo'));
    })();

    // Live Subtasks Demo
    (function() {
      let tasks = [];
      let nextId = 1;
      let mainInputText = '';

      function createTask(text) {
        return { id: nextId++, text, done: false, subtasks: [], expanded: true };
      }

      function addTask(text, parent) {
        const task = createTask(text);
        if (parent) {
          parent.subtasks.push(task);
        } else {
          tasks.push(task);
        }
        update();
      }

      function toggleTask(task) {
        task.done = !task.done;
        function setDone(t, done) {
          t.done = done;
          t.subtasks.forEach(st => setDone(st, done));
        }
        setDone(task, task.done);
        update();
      }

      function deleteTask(task, parent) {
        if (parent) {
          parent.subtasks = parent.subtasks.filter(t => t.id !== task.id);
        } else {
          tasks = tasks.filter(t => t.id !== task.id);
        }
        update();
      }

      function TaskItem(task, parent, depth) {
        depth = depth || 0;
        return div(
          { style: { marginLeft: (depth * 16) + 'px', padding: '4px 0' } },
          div(
            { style: { display: 'flex', alignItems: 'center', gap: '8px' } },
            input(
              { type: 'checkbox', checked: () => task.done, style: { accentColor: '#a3e635' } },
              on('change', () => toggleTask(task))
            ),
            span(
              { style: { flex: '1', textDecoration: () => task.done ? 'line-through' : 'none', opacity: () => task.done ? '0.5' : '1', color: '#f8fafc' } },
              () => task.text
            ),
            when(() => task.subtasks.length > 0,
              span({ style: { color: '#64748b', fontSize: '0.8rem' } }, () => `(${task.subtasks.filter(t => t.done).length}/${task.subtasks.length})`)
            ),
            button(
              { style: { background: 'transparent', border: 'none', color: '#64748b', cursor: 'pointer', fontSize: '1rem' } },
              '\u00D7',
              on('click', () => deleteTask(task, parent))
            )
          ),
          when(() => task.subtasks.length > 0,
            div(list(() => task.subtasks, st => TaskItem(st, task, depth + 1)))
          )
        );
      }

      const subtasksDemo = div(
        { style: { maxWidth: '400px', margin: '0 auto' } },
        div(
          { style: { display: 'flex', gap: '8px', marginBottom: '16px' } },
          input(
            { type: 'text', placeholder: 'Add a task...', value: () => mainInputText, style: { flex: '1', padding: '8px 12px', border: '1px solid #334155', borderRadius: '6px', background: '#020617', color: '#f8fafc' } },
            on('input', e => { mainInputText = e.target.value; update(); }),
            on('keydown', e => { if (e.key === 'Enter' && mainInputText.trim()) { addTask(mainInputText.trim()); mainInputText = ''; update(); } })
          ),
          button(
            { style: { padding: '8px 16px', background: '#a3e635', color: '#020617', border: 'none', borderRadius: '6px', fontWeight: '600', cursor: 'pointer' } },
            'Add',
            on('click', () => { if (mainInputText.trim()) { addTask(mainInputText.trim()); mainInputText = ''; update(); } })
          )
        ),
        when(() => tasks.length > 0,
          div(list(() => tasks, task => TaskItem(task)))
        ).else(
          p({ style: { textAlign: 'center', color: '#64748b' } }, 'No tasks yet. Add one above!')
        )
      );

      render(subtasksDemo, document.getElementById('demo-subtasks'));
    })();

    // Live Search Demo
    (function() {
      const users = [
        { id: 1, name: 'Alice Johnson', email: 'alice@example.com', role: 'Admin' },
        { id: 2, name: 'Bob Smith', email: 'bob@example.com', role: 'User' },
        { id: 3, name: 'Charlie Brown', email: 'charlie@example.com', role: 'User' },
        { id: 4, name: 'Diana Prince', email: 'diana@example.com', role: 'Admin' },
        { id: 5, name: 'Eve Anderson', email: 'eve@example.com', role: 'User' }
      ];

      let searchQuery = '';
      let selectedRole = 'all';

      function filteredUsers() {
        const query = searchQuery.toLowerCase();
        return users.filter(user => {
          const matchesSearch = user.name.toLowerCase().includes(query) || user.email.toLowerCase().includes(query);
          const matchesRole = selectedRole === 'all' || user.role === selectedRole;
          return matchesSearch && matchesRole;
        });
      }

      const searchDemo = div(
        { style: { maxWidth: '500px', margin: '0 auto' } },
        div(
          { style: { display: 'flex', gap: '8px', marginBottom: '16px' } },
          input(
            { type: 'search', placeholder: 'Search by name or email...', value: () => searchQuery, style: { flex: '1', padding: '8px 12px', border: '1px solid #334155', borderRadius: '6px', background: '#020617', color: '#f8fafc' } },
            on('input', e => { searchQuery = e.target.value; update(); })
          ),
          select(
            { value: () => selectedRole, style: { padding: '8px 12px', border: '1px solid #334155', borderRadius: '6px', background: '#020617', color: '#f8fafc' } },
            on('change', e => { selectedRole = e.target.value; update(); }),
            option({ value: 'all' }, 'All Roles'),
            option({ value: 'Admin' }, 'Admins'),
            option({ value: 'User' }, 'Users')
          )
        ),
        p({ style: { color: '#94a3b8', marginBottom: '12px' } }, () => `Showing ${filteredUsers().length} user${filteredUsers().length !== 1 ? 's' : ''}`),
        when(() => filteredUsers().length > 0,
          div(
            list(() => filteredUsers(), user =>
              div(
                { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '12px', background: '#020617', borderRadius: '6px', marginBottom: '8px' } },
                div(
                  span({ style: { color: '#f8fafc', fontWeight: '600' } }, user.name),
                  br(),
                  span({ style: { color: '#64748b', fontSize: '0.875rem' } }, user.email)
                ),
                span({ style: { padding: '4px 8px', borderRadius: '4px', fontSize: '0.75rem', fontWeight: '600', background: user.role === 'Admin' ? 'rgba(163,230,53,0.2)' : 'rgba(59,130,246,0.2)', color: user.role === 'Admin' ? '#a3e635' : '#3b82f6' } }, user.role)
              )
            )
          )
        ).else(
          p({ style: { textAlign: 'center', color: '#64748b' } }, () => searchQuery ? `No users found matching "${searchQuery}"` : 'No users found')
        )
      );

      render(searchDemo, document.getElementById('demo-search'));
    })();

    // Live Async Demo
    (function() {
      let state = { status: 'idle', products: [], error: null };
      let searchQuery = 'phone';

      async function fetchProducts() {
        if (!searchQuery.trim()) return;
        state.status = 'loading';
        state.error = null;
        update();

        try {
          const response = await fetch('https://dummyjson.com/products/search?q=' + encodeURIComponent(searchQuery) + '&limit=6');
          if (!response.ok) throw new Error('Failed to fetch');
          const data = await response.json();
          state.products = data.products;
          state.status = 'success';
        } catch (err) {
          state.status = 'error';
          state.error = err.message;
        }
        update();
      }

      const asyncDemo = div(
        { style: { maxWidth: '600px', margin: '0 auto' } },
        div(
          { style: { display: 'flex', gap: '8px', marginBottom: '16px' } },
          input(
            { type: 'search', placeholder: 'Search products...', value: () => searchQuery, disabled: () => state.status === 'loading', style: { flex: '1', padding: '8px 12px', border: '1px solid #334155', borderRadius: '6px', background: '#020617', color: '#f8fafc' } },
            on('input', e => { searchQuery = e.target.value; update(); }),
            on('keydown', e => { if (e.key === 'Enter') fetchProducts(); })
          ),
          button(
            { disabled: () => state.status === 'loading' || !searchQuery.trim(), style: { padding: '8px 16px', background: '#a3e635', color: '#020617', border: 'none', borderRadius: '6px', fontWeight: '600', cursor: 'pointer', opacity: () => state.status === 'loading' ? '0.5' : '1' } },
            () => state.status === 'loading' ? 'Loading...' : 'Search',
            on('click', fetchProducts)
          )
        ),
        when(() => state.status === 'loading',
          div({ style: { textAlign: 'center', padding: '20px', color: '#94a3b8' } }, 'Loading products...')
        ).when(() => state.status === 'error',
          div({ style: { textAlign: 'center', padding: '20px', color: '#ef4444' } }, () => 'Error: ' + state.error)
        ).when(() => state.status === 'success' && state.products.length > 0,
          div(
            p({ style: { color: '#94a3b8', marginBottom: '12px' } }, () => `Found ${state.products.length} products`),
            div(
              { style: { display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '12px' } },
              list(() => state.products, product =>
                div(
                  { style: { padding: '12px', background: '#020617', borderRadius: '8px' } },
                  div({ style: { color: '#f8fafc', fontWeight: '600', marginBottom: '4px', fontSize: '0.9rem' } }, product.title),
                  div({ style: { color: '#64748b', fontSize: '0.75rem', marginBottom: '8px' } }, product.category),
                  div({ style: { color: '#a3e635', fontWeight: 'bold' } }, '$' + product.price.toFixed(2))
                )
              )
            )
          )
        ).when(() => state.status === 'success' && state.products.length === 0,
          div({ style: { textAlign: 'center', padding: '20px', color: '#64748b' } }, () => `No products found for "${searchQuery}"`)
        ).else(
          div({ style: { textAlign: 'center', padding: '20px', color: '#64748b' } }, 'Enter a search term and click Search')
        )
      );

      render(asyncDemo, document.getElementById('demo-async'));
    })();

    // Live Forms Demo
    (function() {
      let formData = { username: '', email: '', password: '' };
      let errors = {};
      let isSubmitting = false;
      let submitStatus = 'idle';

      function validateForm() {
        errors = {};
        if (formData.username.length < 3) errors.username = 'Username must be at least 3 characters';
        if (!formData.email.includes('@')) errors.email = 'Please enter a valid email';
        if (formData.password.length < 6) errors.password = 'Password must be at least 6 characters';
        return Object.keys(errors).length === 0;
      }

      async function handleSubmit(e) {
        e.preventDefault();
        if (!validateForm()) { update(); return; }
        isSubmitting = true;
        submitStatus = 'idle';
        update();
        await new Promise(r => setTimeout(r, 1000));
        submitStatus = 'success';
        formData = { username: '', email: '', password: '' };
        isSubmitting = false;
        update();
      }

      const formsDemo = div(
        { style: { maxWidth: '350px', margin: '0 auto' } },
        when(() => submitStatus === 'success',
          div({ style: { padding: '12px', background: 'rgba(34,197,94,0.2)', borderRadius: '6px', color: '#22c55e', marginBottom: '16px', textAlign: 'center' } }, 'Account created successfully!')
        ),
        form(
          on('submit', handleSubmit),
          div(
            { style: { marginBottom: '12px' } },
            label({ style: { display: 'block', color: '#94a3b8', marginBottom: '4px', fontSize: '0.875rem' } }, 'Username'),
            input({ type: 'text', value: () => formData.username, disabled: () => isSubmitting, style: { width: '100%', padding: '8px 12px', border: '1px solid #334155', borderRadius: '6px', background: '#020617', color: '#f8fafc', boxSizing: 'border-box' } }, on('input', e => { formData.username = e.target.value; delete errors.username; update(); })),
            when(() => errors.username, span({ style: { color: '#ef4444', fontSize: '0.75rem' } }, () => errors.username))
          ),
          div(
            { style: { marginBottom: '12px' } },
            label({ style: { display: 'block', color: '#94a3b8', marginBottom: '4px', fontSize: '0.875rem' } }, 'Email'),
            input({ type: 'email', value: () => formData.email, disabled: () => isSubmitting, style: { width: '100%', padding: '8px 12px', border: '1px solid #334155', borderRadius: '6px', background: '#020617', color: '#f8fafc', boxSizing: 'border-box' } }, on('input', e => { formData.email = e.target.value; delete errors.email; update(); })),
            when(() => errors.email, span({ style: { color: '#ef4444', fontSize: '0.75rem' } }, () => errors.email))
          ),
          div(
            { style: { marginBottom: '16px' } },
            label({ style: { display: 'block', color: '#94a3b8', marginBottom: '4px', fontSize: '0.875rem' } }, 'Password'),
            input({ type: 'password', value: () => formData.password, disabled: () => isSubmitting, style: { width: '100%', padding: '8px 12px', border: '1px solid #334155', borderRadius: '6px', background: '#020617', color: '#f8fafc', boxSizing: 'border-box' } }, on('input', e => { formData.password = e.target.value; delete errors.password; update(); })),
            when(() => errors.password, span({ style: { color: '#ef4444', fontSize: '0.75rem' } }, () => errors.password))
          ),
          button({ type: 'submit', disabled: () => isSubmitting, style: { width: '100%', padding: '10px', background: '#a3e635', color: '#020617', border: 'none', borderRadius: '6px', fontWeight: '600', cursor: 'pointer', opacity: () => isSubmitting ? '0.5' : '1' } }, () => isSubmitting ? 'Creating account...' : 'Sign Up')
        )
      );

      render(formsDemo, document.getElementById('demo-forms'));
    })();

    // Live Nested Components Demo
    (function() {
      let users = [
        { id: 1, name: 'Alice', bio: 'Software developer', followers: 142 },
        { id: 2, name: 'Bob', bio: 'Designer', followers: 89 },
        { id: 3, name: 'Charlie', bio: 'DevOps engineer', followers: 56 }
      ];

      function handleFollow(id) {
        const user = users.find(u => u.id === id);
        if (user) { user.followers++; update(); }
      }

      function UserCard(user) {
        return div(
          { style: { padding: '16px', background: '#020617', borderRadius: '8px', textAlign: 'center' } },
          div({ style: { width: '48px', height: '48px', borderRadius: '50%', background: '#334155', margin: '0 auto 12px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#a3e635', fontWeight: 'bold', fontSize: '1.25rem' } }, user.name[0]),
          div({ style: { color: '#f8fafc', fontWeight: '600', marginBottom: '4px' } }, user.name),
          div({ style: { color: '#64748b', fontSize: '0.875rem', marginBottom: '8px' } }, user.bio),
          div({ style: { color: '#94a3b8', fontSize: '0.875rem', marginBottom: '12px' } }, () => user.followers + ' followers'),
          button({ style: { padding: '6px 16px', background: '#a3e635', color: '#020617', border: 'none', borderRadius: '6px', fontWeight: '600', cursor: 'pointer', fontSize: '0.875rem' } }, 'Follow', on('click', () => handleFollow(user.id)))
        );
      }

      const nestedDemo = div(
        { style: { display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '12px' } },
        list(() => users, user => UserCard(user))
      );

      render(nestedDemo, document.getElementById('demo-nested'));
    })();

    // Live Animations Demo
    (function() {
      let isVisible = true;
      let scale = 1;
      let rotation = 0;

      function toggle() {
        isVisible = !isVisible;
        let start = Date.now();
        function tick() {
          const elapsed = Date.now() - start;
          const progress = Math.min(elapsed / 500, 1);
          scale = isVisible ? 0.5 + progress * 0.5 : 1 - progress * 0.5;
          rotation = isVisible ? progress * 360 : (1 - progress) * 360;
          update();
          if (progress < 1) requestAnimationFrame(tick);
        }
        tick();
      }

      const animationsDemo = div(
        { style: { textAlign: 'center' } },
        button({ style: { padding: '10px 24px', background: '#a3e635', color: '#020617', border: 'none', borderRadius: '6px', fontWeight: '600', cursor: 'pointer', marginBottom: '24px' } }, 'Toggle Animation', on('click', toggle)),
        div(
          { style: () => ({ width: '120px', height: '120px', margin: '0 auto', background: 'linear-gradient(135deg, #a3e635, #22c55e)', borderRadius: '16px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#020617', fontWeight: 'bold', transform: `scale(${scale}) rotate(${rotation}deg)`, transition: 'box-shadow 0.3s', boxShadow: isVisible ? '0 0 30px rgba(163,230,53,0.4)' : 'none' }) },
          'nuclo'
        )
      );

      render(animationsDemo, document.getElementById('demo-animations'));
    })();

    // Live Routing Demo
    (function() {
      let currentRoute = 'home';

      function navigate(route) {
        currentRoute = route;
        update();
      }

      function HomePage() {
        return div(
          h3({ style: { color: '#f8fafc', margin: '0 0 8px' } }, 'Home'),
          p({ style: { color: '#94a3b8', margin: '0' } }, 'Welcome to our website!')
        );
      }

      function AboutPage() {
        return div(
          h3({ style: { color: '#f8fafc', margin: '0 0 8px' } }, 'About'),
          p({ style: { color: '#94a3b8', margin: '0' } }, 'Learn more about us.')
        );
      }

      function ContactPage() {
        return div(
          h3({ style: { color: '#f8fafc', margin: '0 0 8px' } }, 'Contact'),
          p({ style: { color: '#94a3b8', margin: '0' } }, 'Get in touch with us!')
        );
      }

      const routingDemo = div(
        { style: { maxWidth: '400px', margin: '0 auto' } },
        div(
          { style: { display: 'flex', gap: '8px', marginBottom: '16px', borderBottom: '1px solid #334155', paddingBottom: '12px' } },
          button({ style: () => ({ padding: '8px 16px', background: currentRoute === 'home' ? '#a3e635' : 'transparent', color: currentRoute === 'home' ? '#020617' : '#94a3b8', border: '1px solid #334155', borderRadius: '6px', cursor: 'pointer', fontWeight: '500' }) }, 'Home', on('click', () => navigate('home'))),
          button({ style: () => ({ padding: '8px 16px', background: currentRoute === 'about' ? '#a3e635' : 'transparent', color: currentRoute === 'about' ? '#020617' : '#94a3b8', border: '1px solid #334155', borderRadius: '6px', cursor: 'pointer', fontWeight: '500' }) }, 'About', on('click', () => navigate('about'))),
          button({ style: () => ({ padding: '8px 16px', background: currentRoute === 'contact' ? '#a3e635' : 'transparent', color: currentRoute === 'contact' ? '#020617' : '#94a3b8', border: '1px solid #334155', borderRadius: '6px', cursor: 'pointer', fontWeight: '500' }) }, 'Contact', on('click', () => navigate('contact')))
        ),
        div(
          { style: { padding: '16px', background: '#020617', borderRadius: '8px' } },
          when(() => currentRoute === 'home', HomePage())
          .when(() => currentRoute === 'about', AboutPage())
          .when(() => currentRoute === 'contact', ContactPage())
        )
      );

      render(routingDemo, document.getElementById('demo-routing'));
    })();

    // Live Styled Card Demo
    (function() {
      let products = [
        { id: 1, name: 'Headphones', description: 'Premium noise-canceling', price: 299.99, inStock: true },
        { id: 2, name: 'Smart Watch', description: 'Track your fitness', price: 399.99, inStock: true },
        { id: 3, name: 'Speaker', description: 'Waterproof bass', price: 149.99, inStock: false }
      ];

      let hoveredId = null;
      let cart = [];

      function addToCart(product) {
        if (product.inStock) {
          cart.push(product.id);
          update();
        }
      }

      function ProductCard(product) {
        return div(
          {
            style: () => ({
              padding: '16px',
              background: '#020617',
              borderRadius: '12px',
              border: '1px solid ' + (hoveredId === product.id ? '#a3e635' : '#334155'),
              transition: 'all 0.2s',
              transform: hoveredId === product.id ? 'translateY(-4px)' : 'translateY(0)',
              boxShadow: hoveredId === product.id ? '0 8px 24px rgba(0,0,0,0.3)' : 'none',
              opacity: product.inStock ? '1' : '0.6'
            })
          },
          on('mouseenter', () => { hoveredId = product.id; update(); }),
          on('mouseleave', () => { hoveredId = null; update(); }),
          div({ style: { color: '#f8fafc', fontWeight: '600', marginBottom: '4px' } }, product.name),
          div({ style: { color: '#64748b', fontSize: '0.875rem', marginBottom: '12px' } }, product.description),
          div(
            { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' } },
            span({ style: { color: '#a3e635', fontWeight: 'bold', fontSize: '1.25rem' } }, '$' + product.price.toFixed(2)),
            button(
              { style: { padding: '6px 12px', background: product.inStock ? '#a3e635' : '#64748b', color: '#020617', border: 'none', borderRadius: '6px', fontWeight: '600', cursor: product.inStock ? 'pointer' : 'not-allowed', fontSize: '0.875rem' } },
              product.inStock ? 'Add to Cart' : 'Out of Stock',
              on('click', () => addToCart(product))
            )
          )
        );
      }

      const styledCardDemo = div(
        div({ style: { textAlign: 'center', marginBottom: '16px' } },
          span({ style: { color: '#94a3b8' } }, () => `Cart: ${cart.length} item${cart.length !== 1 ? 's' : ''}`)
        ),
        div(
          { style: { display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '12px' } },
          list(() => products, product => ProductCard(product))
        )
      );

      render(styledCardDemo, document.getElementById('demo-styled-card'));
    })();
    </script>
</body>
</html>
