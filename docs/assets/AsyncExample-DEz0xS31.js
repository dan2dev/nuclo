import"./nuclo-DGvy5emh.js";import{s,c as e,a as t,b as l}from"./index-j9rk5y6I.js";import{C as c}from"./CodeBlock-oAw7VzQV.js";import{e as u}from"./examples-DxIfXyoi.js";let r={status:"idle",products:[]},i="phone";const g=e(backgroundColor(t.bgCard).padding("32px").borderRadius("16px").border(`1px solid ${t.border}`).marginBottom("32px")),x=e(padding("10px 14px").backgroundColor(t.bgLight).color(t.text).border(`1px solid ${t.border}`).borderRadius("8px").fontSize("14px").outline("none").flex("1").transition("border-color 0.2s")),m=e(padding("10px 20px").backgroundColor(t.primary).color(t.bg).border("none").borderRadius("8px").fontSize("14px").fontWeight("600").cursor("pointer").transition("all 0.2s")),b={backgroundColor:t.bgLight,color:t.textDim,cursor:"not-allowed"},f=e(display("grid").gap("12px").marginTop("20px")),h=e(padding("16px").backgroundColor(t.bgLight).borderRadius("10px").transition("all 0.2s")),y=e(textAlign("center").padding("32px").color(t.textMuted)),S=e(padding("16px").backgroundColor("rgba(239, 68, 68, 0.1)").borderRadius("8px").color("#ef4444").marginTop("16px"));async function d(){if(i.trim()){r.status="loading",r.error=void 0,update();try{const o=await fetch(`https://dummyjson.com/products/search?q=${i}`);if(!o.ok)throw new Error("Failed to fetch products");const n=await o.json();r.products=n.products.slice(0,6),r.status="success"}catch(o){r.status="error",r.error=o.message}update()}}function C(){return div(g,h3(e(fontSize("18px").fontWeight("600").color(t.text).marginBottom("20px")),"Product Search"),div(s.flex,s.gap8,input(x,{type:"search",placeholder:"Search products...",value:()=>i,disabled:()=>r.status==="loading"},on("input",o=>{i=o.target.value,update()}),on("keydown",o=>{o.key==="Enter"&&d()}),on("focus",o=>{o.target.style.borderColor=t.primary}),on("blur",o=>{o.target.style.borderColor=t.border})),button(m,{disabled:()=>r.status==="loading"||!i.trim(),style:()=>r.status==="loading"||!i.trim()?b:{}},()=>r.status==="loading"?"Searching...":"Search",on("click",d),on("mouseenter",o=>{r.status!=="loading"&&i.trim()&&(o.target.style.backgroundColor=t.primaryHover)}),on("mouseleave",o=>{r.status!=="loading"&&i.trim()&&(o.target.style.backgroundColor=t.primary)}))),when(()=>r.status==="loading",div(y,"Loading products...")).when(()=>r.status==="error",div(S,s.flexBetween,span(()=>`Error: ${r.error}`),button(e(padding("6px 12px").backgroundColor("transparent").color("#ef4444").border("1px solid #ef4444").borderRadius("6px").fontSize("13px").cursor("pointer")),"Retry",on("click",d)))).when(()=>r.status==="success"&&r.products.length>0,div(p(e(fontSize("13px").color(t.textDim).marginTop("16px")),()=>`Found ${r.products.length} products`),div(f,{style:{gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"}},list(()=>r.products,o=>div(h,on("mouseenter",n=>{n.currentTarget.style.backgroundColor=t.bgCard}),on("mouseleave",n=>{n.currentTarget.style.backgroundColor=t.bgLight}),h4(e(fontSize("14px").fontWeight("600").color(t.text).marginBottom("6px")),o.title),p(e(fontSize("12px").color(t.textDim).margin("0 0 8px 0")),o.category),p(e(fontSize("16px").fontWeight("700").color(t.primary).margin("0")),`$${o.price.toFixed(2)}`)))))).when(()=>r.status==="success"&&r.products.length===0,div(e(textAlign("center").padding("32px").color(t.textDim)),()=>`No products found for "${i}"`)).else(div(e(textAlign("center").padding("32px").color(t.textDim)),"Enter a search term and click Search")))}function R(){const o=u.find(n=>n.id==="async");return div(s.pageContent,a(e(color(t.textMuted).fontSize("14px").marginBottom("16px").display("inline-block").cursor("pointer")),"â† Back to Examples",on("click",n=>{n.preventDefault(),l("examples")})),h1(s.pageTitle,o.title),p(s.pageSubtitle,o.description),C(),h2(s.h2,"Source Code"),c(o.code,"typescript"))}export{R as AsyncExamplePage};
